"use strict";function initMap(){map=new google.maps.Map(document.getElementById("map-canvas"),{center:new google.maps.LatLng(51.519132,(-.094205)),zoom:11}),showPrisons(),map.addListener("center_changed",function(){window.setTimeout(function(){showPrisons()},200)})}function showPrisons(){var o={location:map.getCenter(),radius:"50000",query:"prison"};service=new google.maps.places.PlacesService(map),service.textSearch(o,searchForPrison)}function searchForPrison(o,e){if(e===google.maps.places.PlacesServiceStatus.OK)for(var n=0;n<o.length;n++){var i=o[n];console.log(i.name),console.log(i.formatted_address),createMarkerPrison(i)}}function createMarkerPrison(o){var e=new google.maps.Marker({position:o.geometry.location,map:map});e.addListener("click",function(){map.setZoom(14),map.setCenter(e.getPosition())}),infoWindowPrison(o,e)}function infoWindowPrison(o,e){google.maps.event.addListener(e,"click",function(){"undefined"!=typeof infoWindow&&infoWindow.close(),infoWindow=new google.maps.InfoWindow({content:"<h4>"+o.name+"</h4><p>"+o.formatted_address}),infoWindow.open(map,e)})}var map=void 0,service=void 0,infoWindow=void 0,google=google;$(initMap);